{"version":3,"sources":["webpack:///./src/views/frontend/Orderlist.vue?366a","webpack:///src/views/frontend/Orderlist.vue","webpack:///./src/views/frontend/Orderlist.vue?af51","webpack:///./src/views/frontend/Orderlist.vue","webpack:///./src/views/frontend/Orderlist.vue?71af"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","navItem_active","paid","attrs","on","$event","_v","_l","item","directives","name","rawName","value","expression","key","id","_s","_f","created","timestamp","diff","_m","i","index","style","background","product","imageUrl","title","quantity","price","amount","Math","round","payment","_e","goToPay","staticRenderFns","data","orderList","filters","toDate","date","toLocaleDateString","toTime","time","methods","getOrderlist","$store","dispatch","$http","get","url","localStorage","getItem","removeItem","setTimeout","component"],"mappings":"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","file":"js/chunk-0e60fc76.0a8ba85b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container mb-9\"},[_c('div',{staticClass:\"row pt-7\"},[_c('div',{staticClass:\"col-12 col-lg-10 offset-lg-1\"},[_c('div',{staticClass:\"d-flex\"},[_c('a',{staticClass:\"navItem text-decoration-none\\n        rounded-0 fz_lg_24 py-2 py-lg-3 w-50\",class:{ navItem_active : _vm.paid === false},attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.paid = false}}},[_vm._v(\"未付款\")]),_c('a',{staticClass:\"navItem text-decoration-none\\n        rounded-0 fz_lg_24 py-2 py-lg-3 w-50\",class:{ navItem_active : _vm.paid === true},attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.paid = true}}},[_vm._v(\"已付款\")])])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-lg-10 offset-lg-1\"},_vm._l((_vm.orderList),function(item){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.paid === _vm.paid),expression:\"item.paid === paid\"}],key:item.id},[_c('div',{staticClass:\"card mt-3\"},[_c('div',{staticClass:\"card-body p-3\"},[_c('h5',{staticClass:\"card-title mb-1 mb-lg-2\"},[_c('div',{staticClass:\"d-flex justify-content-between\\n                align-items-center fz_14 fz_md_16\"},[_c('div',{staticClass:\"tooltip_hover w_50 w_lg_25 position-relative d-flex\\n                justify-content-start\"},[_vm._v(\" \"+_vm._s(_vm._f(\"toDate\")(item.created.timestamp))+\" \"),_c('span',{staticClass:\"tooltipText position-absolute w_75 w_md_25 w_lg_40 ml-3 ml_xl_6\"},[_vm._v(\" \"+_vm._s(_vm._f(\"toTime\")(item.created.timestamp))),_c('br'),_vm._v(_vm._s(item.created.diff)+\" \")])]),_c('div',[_vm._v(\"訂單編號： \"+_vm._s(item.created.timestamp))])])]),_c('div',{staticClass:\"card-text mt-0 mt-lg-3\"},[_c('div',{staticClass:\"d-flex flex-column\\n              justify-content-between mx-lg-4\"},[_c('div',{staticClass:\"d-flex align-items-center justify-content-between\"},[_c('ul',{staticClass:\"listStyle_none m-0 pl-0 pt-2 w-100\"},[_vm._m(0,true),_vm._l((item.products),function(i,index){return _c('li',{key:index,staticClass:\"d-flex flex-column w-100 fz_14 fz_lg_16\"},[_c('div',{staticClass:\"d-flex align-items-center justify-content-between w-100\"},[_c('div',{staticClass:\"d-flex align-items-center w-75\"},[_c('div',{staticClass:\"card-img-top rounded-0 orderImg\",style:({ background: (\"url(\" + (i.product.imageUrl[0]) + \")\") })}),_c('div',{staticClass:\"d-flex flex-column justify-content-between\\n                            pl-3 pl-lg-4 text-left\"},[_c('div',{staticClass:\"text-truncate\"},[_vm._v(_vm._s(i.product.title))]),_c('span',{staticClass:\"mt-0\"},[_vm._v(\"x \"+_vm._s(i.quantity))])])]),_c('div',[_vm._v(_vm._s(_vm._f(\"DollarSign\")(_vm._f(\"toCurrency\")(i.product.price)))+\" 元\")])]),_c('hr',{staticClass:\"my-2\"})])})],2)]),_c('div',{staticClass:\"d-flex flex-column align-items-end justify-content-between\\n                  w-100 fz_14 fz_lg_16\"},[_c('div',[(item.amount < 2000)?_c('div',{staticClass:\"pt-2\"},[_vm._v(\" 訂單金額： \"+_vm._s(_vm._f(\"DollarSign\")(_vm._f(\"toCurrency\")(Math.round(item.amount) + 60)))+\" 元 \")]):_c('div',{staticClass:\"pt-2\"},[_vm._v(\" 訂單金額： \"+_vm._s(_vm._f(\"DollarSign\")(_vm._f(\"toCurrency\")(Math.round(item.amount))))+\" 元 \")])]),_c('div',{staticClass:\"pt-2\"},[_vm._v(_vm._s(item.payment))]),_c('div',{staticClass:\"pt-2 fz_12 fz_lg_14\"},[(item.paid)?_c('div',{staticClass:\"text-success font-weight-bold py-2\"},[_vm._v(\" 付款完成 \")]):_c('div',{staticClass:\"text-danger d-flex align-items-center mt-1\"},[_vm._v(\" 尚未付款 \"),(!item.paid)?_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('a',{staticClass:\"btn btn-black\\n                        text-decoration-none border-0 rounded-0 p-1 px-3 ml-3 fz_14 fz_lg_16\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.goToPay(item.id)}}},[_vm._v(\" 前往付款 \")])]):_vm._e()])])])])])])])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('hr',{staticClass:\"my-2\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container mb-9\">\n    <div class=\"row pt-7\">\n      <div class=\"col-12 col-lg-10 offset-lg-1\">\n        <div class=\"d-flex\">\n          <a :class=\"{ navItem_active : paid === false}\" class=\"navItem text-decoration-none\n          rounded-0 fz_lg_24 py-2 py-lg-3 w-50\" @click=\"paid = false\" href=\"#\">未付款</a>\n          <a :class=\"{ navItem_active : paid === true}\" class=\"navItem text-decoration-none\n          rounded-0 fz_lg_24 py-2 py-lg-3 w-50\" @click=\"paid = true\" href=\"#\">已付款</a>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-12 col-lg-10 offset-lg-1\">\n        <div v-show=\"item.paid === paid\" :key=\"item.id\" v-for=\"item in orderList\">\n          <div class=\"card mt-3\">\n            <div class=\"card-body p-3\">\n              <h5 class=\"card-title mb-1 mb-lg-2\">\n                <div class=\"d-flex justify-content-between\n                  align-items-center fz_14 fz_md_16\">\n                  <div class=\"tooltip_hover w_50 w_lg_25 position-relative d-flex\n                  justify-content-start\">\n                    {{ item.created.timestamp | toDate }}\n                    <span class=\"tooltipText position-absolute w_75 w_md_25 w_lg_40 ml-3 ml_xl_6\">\n                      {{ item.created.timestamp | toTime }}<br/>{{ item.created.diff }}\n                    </span>\n                  </div>\n                  <div>訂單編號： {{item.created.timestamp}}</div>\n                </div>\n              </h5>\n              <div class=\"card-text mt-0 mt-lg-3\">\n                <div class=\"d-flex flex-column\n                justify-content-between mx-lg-4\">\n                  <div class=\"d-flex align-items-center justify-content-between\">\n                    <ul class=\"listStyle_none m-0 pl-0 pt-2 w-100\">\n                      <li><hr class=\"my-2\"/></li>\n                      <li\n                        class=\"d-flex flex-column w-100 fz_14 fz_lg_16\"\n                        v-for=\"( i, index ) in item.products\" :key=\"index\"\n                      >\n                        <div class=\"d-flex align-items-center justify-content-between w-100\">\n                          <div class=\"d-flex align-items-center w-75\">\n                            <div\n                              class=\"card-img-top rounded-0 orderImg\"\n                              :style=\"{ background: `url(${i.product.imageUrl[0]})` }\"\n                            />\n                            <div\n                              class=\"d-flex flex-column justify-content-between\n                              pl-3 pl-lg-4 text-left\"\n                            >\n                              <div class=\"text-truncate\">{{ i.product.title }}</div>\n                              <span class=\"mt-0\">x {{ i.quantity }}</span>\n                            </div>\n                          </div>\n                          <div>{{ i.product.price | toCurrency | DollarSign }} 元</div>\n                        </div>\n                        <hr class=\"my-2\"/>\n                      </li>\n                    </ul>\n                  </div>\n                  <div\n                    class=\"d-flex flex-column align-items-end justify-content-between\n                    w-100 fz_14 fz_lg_16\"\n                  >\n                    <div>\n                      <div\n                        v-if=\"item.amount < 2000\"\n                        class=\"pt-2\"\n                      >\n                        訂單金額： {{ Math.round(item.amount) + 60 | toCurrency | DollarSign }} 元\n                      </div>\n                      <div\n                        v-else\n                        class=\"pt-2\"\n                      >\n                        訂單金額： {{ Math.round(item.amount) | toCurrency | DollarSign }} 元\n                      </div>\n                    </div>\n                    <div class=\"pt-2\">{{ item.payment }}</div>\n                    <div class=\"pt-2 fz_12 fz_lg_14\">\n                      <div v-if=\"item.paid\" class=\"text-success font-weight-bold py-2\">\n                        付款完成\n                      </div>\n                      <div v-else class=\"text-danger d-flex align-items-center mt-1\">\n                        尚未付款\n                        <div v-if=\"!item.paid\" class=\"d-flex justify-content-end\">\n                          <a href=\"#\" @click=\"goToPay(item.id)\" class=\"btn btn-black\n                          text-decoration-none border-0 rounded-0 p-1 px-3 ml-3 fz_14 fz_lg_16\">\n                            前往付款\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      orderList: {},\n      paid: false,\n    };\n  },\n  filters: {\n    toDate(timestamp) {\n      const date = new Date(timestamp * 1000); // 因為一般 timestamp 取得的是秒數，但要帶入的是毫秒，所以要乘 1000\n      return date.toLocaleDateString();\n    },\n    toTime(timestamp) {\n      const date = new Date(timestamp * 1000);\n      const time = `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;\n      return time;\n    },\n  },\n  methods: {\n    getOrderlist(num = 1) {\n      this.$store.dispatch('loadingChange', true);\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/orders?page=${num}&paged=10`;\n      this.$http.get(url)\n        .then((res) => {\n          this.orderList = res.data.data;\n          this.$store.dispatch('loadingChange', false);\n        }).catch(() => {\n          this.$store.dispatch('loadingChange', false);\n        });\n    },\n    goToPay(id) {\n      this.$store.dispatch('getOrderId', id);\n      this.$store.dispatch('payMoney', false);\n      if (localStorage.getItem('store')) {\n        localStorage.removeItem('store');\n      }\n      setTimeout(() => {\n        this.$router.push('/payment');\n      }, 0);\n    },\n  },\n  created() {\n    this.getOrderlist();\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.orderImg {\n  height: 70px;\n  width: 70px;\n  background-position: center !important;\n  background-size: cover !important;\n  @media (min-width: 992px) {\n    height: 100px;\n    width: 100px;\n  }\n}\n.navItem{\n  color: #121212;\n  &.navItem_active {\n    background: #121212;\n    color: #fff;\n  }\n}\n.orderListImg{\n  height: 90px;\n  width: 90px;\n}\n.ml_xl_6{\n  @media (min-width: 1200px) {\n    margin-left: 48px !important;\n  }\n}\n.tooltip_hover{\n  opacity: 1;\n}\n.tooltipText {\n  width: 110%;\n  padding: 5px;\n  opacity: 0;\n  font-size: .8em;\n  border-radius: 3px;\n  text-align: center;\n  /* Position the tooltip */\n  position: absolute;\n  z-index: 1;\n  bottom: -55px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n.tooltipText::before{\n  content: \"\";/*讓before顯示出來*/\n  position: absolute;\n  top: -7px; /*調整位置*/\n  right: 70%;/*調整位置*/\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 0 7.5px 7px 7.5px;\n  border-color: transparent transparent rgba(0, 0, 0, 0.7) transparent;\n}\n.tooltip_hover:hover .tooltipText {\n  opacity: 1;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orderlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orderlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orderlist.vue?vue&type=template&id=6dba933e&\"\nimport script from \"./Orderlist.vue?vue&type=script&lang=js&\"\nexport * from \"./Orderlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Orderlist.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orderlist.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}