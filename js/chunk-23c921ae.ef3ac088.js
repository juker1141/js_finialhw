(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23c921ae"],{"5c09":function(t,e,s){},"80f2":function(t,e,s){"use strict";s("5c09")},b275:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container text-black"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-lg-10 offset-lg-1"},[s("div",{staticClass:"row my-3"},[s("div",{staticClass:"col-12 col-lg-10 offset-lg-1 d-flex justify-content-start"},[s("router-link",{staticClass:"fontOrbitron fz_20 fz_md_30 text-black\n            text-decoration-none",attrs:{to:"/home"}},[t._v("Hardware Store")])],1)]),s("div",{staticClass:"row mb-2 mb-lg-5"},[s("div",{staticClass:"col-12 col-lg-10 offset-lg-1 d-flex justify-content-start"},[s("a",{staticClass:"text-black mr-2 text-decoration-none",attrs:{to:"/home"},on:{click:function(e){return t.getCart("/home")}}},[t._v("Home")]),t._v("> "),s("a",{staticClass:"text-black mx-2 text-decoration-none",attrs:{to:"/order"},on:{click:function(e){return t.getCart("/orderlist")}}},[t._v("Order")]),t._v("> "),s("div",{staticClass:"ml-2 text-black font-weight-bold"},[t._v("Payment")])])]),s("div",{staticClass:"row flex-column-reverse flex-lg-row"},[s("div",{staticClass:"col-12 col-lg-6 offset-lg-1 mt-3 mt-lg-0"},[s("div",{staticClass:"text-left fz_24 mb-2"},[t._v("訂單資訊")]),t.orderLoading?s("div",{staticClass:"border border-black mb-3 mb-lg-5"},[s("div",{staticClass:"d-flex flex-column"},[s("div",{staticClass:"d-flex justify-content-between\n              align-items-center border-bottom border-black p-3",on:{click:t.showOrderInfo}},[s("div",{staticClass:"d-flex align-items-center"},[t._v(" 聯絡資訊"),s("span",{staticClass:"ml-2 fz_14\n                  text-secondary text-truncate w_max_150px w_max_lg_230px"},[t._v(" "+t._s(t.order.user.name)+" / "+t._s(t.order.user.email)+" / "+t._s(t.order.user.tel))])]),t._m(0)]),s("ul",{staticClass:"text-left d_none\n              listStyle_none m-0 p-3 border-bottom border-black",attrs:{id:"orderInfo"}},[s("li",[t._v("姓名 ： "+t._s(t.order.user.name))]),s("li",[t._v("信箱 ： "+t._s(t.order.user.email))]),s("li",[t._v("電話 ： "+t._s(t.order.user.tel))])])]),s("div",{staticClass:"d-flex justify-content-between align-items-center p-3"},[s("div",[t._v(" 地址"),s("span",{staticClass:"ml-2 fz_14 text-secondary"},[t._v(" "+t._s(t.order.user.address))])]),t._m(1)])]):t._e(),s("div",{staticClass:"text-left fz_24 mb-2"},[t._v("付款資訊")]),s("div",{staticClass:"border border-black mb-3 fz_20 flex-column\n          d-flex"},[s("div",{staticClass:"d-flex justify-content-between p-3"},[t._v(" 付款方式"),s("div",[t._v(t._s(t.order.payment))])]),"WebATM"===t.order.payment||"ATM"===t.order.payment?s("div",{staticClass:"p-3 border-top border-black"},[s("div",[t._v("請使用轉帳至下列號碼")]),s("div",{staticClass:"d-flex flex-column flex-lg-row\n              align-items-center justify-content-center\n              mt-3 border border-black p-3"},[t._v("00010061234567 "),this.paid?s("div",{staticClass:"text-success ml-lg-5"},[t._v("轉帳成功！")]):s("router-link",{staticClass:"btn\n              btn-black rounded-0 ml-lg-5",attrs:{to:"/paycheck"}},[t._v("前往轉帳")])],1)]):s("div",{staticClass:"p-3 border-top border-black"},[s("div",[t._v("請按按鈕進行繳費")]),s("div",{staticClass:"d-flex flex-column align-items-center justify-content-center"},[this.paid?s("div",{staticClass:"text-success mt-3"},[t._v("轉帳成功！")]):s("router-link",{staticClass:"btn\n                btn-black rounded-0 mt-3",attrs:{to:"/paycheck"}},[t._v("前往繳費")])],1)])]),s("div",{staticClass:"d-flex justify-content-center justify-content-lg-end"},[s("button",{staticClass:"btn btn-black\n            p-2 rounded-0 fz_24 px-6",attrs:{type:"button",disabled:!this.paid},on:{click:t.paidOrder}},[t._v("確認付款 "),t.isPaying?s("div",{staticClass:"spinner-border text-light ml-2",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e()])])]),s("div",{staticClass:"col-12 col-lg-5 mt-3 mt-lg-1"},[s("div",{staticClass:"bg-gray"},[s("div",{staticClass:"p-2 p-lg-3 w-100 d_block d-lg-none\n            font-weight-bold fz_20"},[s("div",{staticClass:"p-2 w-100 d-flex justify-content-between align-items-center",on:{click:t.showOrderDetail}},[t._v(" 總金額 "),s("div",{staticClass:"d-flex align-items-center"},[t.orderTotal>2e3?s("div",{staticClass:"orderDetail_total"},[t._v(" NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(t.orderTotal)))+" ")]):s("div",{staticClass:"orderDetail_total"},[t._v("NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(t.orderTotal+60))))]),t._m(2)])])]),s("hr",{staticClass:"my-0 mx-3 d_none d-lg-none border-secondary orderDetail_line"}),s("ul",{staticClass:"listStyle_none d_none d-lg-block p-3 m-0 text-left",attrs:{id:"orderDetail"}},[t._l(t.order.products,(function(e){return s("li",{key:e.id,staticClass:"d-flex bg-gray mb-2"},[s("div",{staticClass:"card-img-top rounded-0 orderImg_sm",style:{background:"url("+e.product.imageUrl[0]+")"}}),s("div",{staticClass:"w-100"},[s("div",{staticClass:"p-2 h-100 w-100 d-flex align-items-center justify-content-between"},[s("div",{staticClass:"font-weight-bold mb-1\n                    d-flex align-items-end justify-content-between"},[t._v(" "+t._s(e.product.title)+" "),s("span",{staticClass:"fz_14 ml-2 fontRoboto font-weight-normal"},[t._v(" x "+t._s(e.quantity))])]),s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("div",{staticClass:"text-right"},[t._v(" NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(e.quantity*e.product.price))))])])])])])})),s("hr",{staticClass:"my-4 border-secondary"}),t.order.coupon?s("li",{staticClass:"p-2 fz_14 text-secondary d-flex justify-content-between"},[t._v(" 優惠卷"),s("span",[t._v(t._s(t.order.coupon.code))])]):t._e(),s("li",{staticClass:"p-2 d-flex justify-content-between"},[t._v(" 購物車金額"),s("span",[t._v("NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(t.orderTotal))))])]),s("li",{staticClass:"p-2 d-flex justify-content-between"},[t._v(" 運費 "),t.orderTotal>2e3?s("div",[s("span",{staticClass:"mr-2 text-danger font-weight-bold"},[t._v("( 滿 2, 000 免運 )")]),t._v("NT 0 ")]):s("div",[t._v("NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(60))))])]),s("li",{staticClass:"p-2 d-flex justify-content-between font-weight-bold fz_20"},[t._v(" 總金額 "),t.orderTotal>2e3?s("div",[t._v("NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(t.orderTotal)))+" ")]):s("div",[t._v("NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(t.orderTotal+60))))])])],2)])])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center"},[s("span",{staticClass:"material-icons showOrderInfo_down"},[t._v(" keyboard_arrow_down ")]),s("span",{staticClass:"material-icons d_none showOrderInfo_up"},[t._v(" keyboard_arrow_up ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center"},[s("span",{staticClass:"material-icons"},[t._v(" gps_fixed ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center ml-2"},[s("span",{staticClass:"material-icons showOrderDetail_down"},[t._v(" keyboard_arrow_down ")]),s("span",{staticClass:"material-icons d_none showOrderDetail_up"},[t._v(" keyboard_arrow_up ")])])}],o=(s("159b"),s("99af"),{data:function(){return{orderTotal:0,isPaying:!1}},computed:{order:function(){return this.$store.state.order},orderLoading:function(){return this.$store.state.orderLoading},orderId:function(){return this.$store.state.orderId},paid:function(){return this.$store.state.paid}},watch:{orderId:function(){this.getOrder(this.orderId)},order:function(){var t=this;return this.orderTotal=0,this.orderLoading&&this.order.products.forEach((function(e){t.orderTotal+=e.quantity*e.product.price})),this.order.coupon&&(this.orderTotal=Math.round(this.orderTotal*(this.order.coupon.percent/100))),this.orderTotal},paid:function(){return this.paid},cartBlockShow:function(){return this.$store.state.cartBlockShow}},methods:{getOrder:function(t){this.$store.dispatch("getOrder",t)},getCart:function(t){var e=this;this.$store.dispatch("getCart"),setTimeout((function(){e.$router.push(t)}),500)},showOrderInfo:function(){$("#orderInfo").slideToggle(0),$(".showOrderInfo_down").toggleClass("d-none"),$(".showOrderInfo_up").toggleClass("d-block")},showOrderDetail:function(){$("#orderDetail").slideToggle(300),$(".orderDetail_line").toggleClass("d-block"),$(".showOrderDetail_down").toggleClass("d-none"),$(".showOrderDetail_up").toggleClass("d-block"),$(".orderDetail_total").toggleClass("d-none")},writeInLocalStorage:function(){this.$store.dispatch("messagePush","clear")},paidOrder:function(){var t=this;this.isPaying=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat("8a8058c0-58d2-485b-b7fc-3c9be181cca7","/ec/orders/").concat(this.orderId,"/paying");this.$http.post(e).then((function(){t.isPaying=!1,t.$store.dispatch("messagePush",{message:"付款成功",status:"success"}),t.$router.push("/paydone")})).catch((function(){t.$store.dispatch("messagePush",{message:"付款失敗，請再嘗試看看",status:"danger"})}))}},created:function(){var t=this;this.getOrder(this.orderId),this.writeInLocalStorage(),this.$store.dispatch("cartBlockisShow",!1),window.addEventListener("storage",(function(e){t.isPaying=!0,setTimeout((function(){t.isPaying=!1}),1e3)}))}}),i=o,n=(s("80f2"),s("2877")),l=Object(n["a"])(i,r,a,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-23c921ae.ef3ac088.js.map