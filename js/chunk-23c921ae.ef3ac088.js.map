{"version":3,"sources":["webpack:///./src/views/frontend/Payment.vue?7355","webpack:///./src/views/frontend/Payment.vue?9897","webpack:///src/views/frontend/Payment.vue","webpack:///./src/views/frontend/Payment.vue?169d","webpack:///./src/views/frontend/Payment.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","$event","getCart","showOrderInfo","_s","order","user","name","email","tel","_m","address","_e","payment","paid","paidOrder","showOrderDetail","orderTotal","_f","_l","item","key","id","style","background","product","imageUrl","title","quantity","price","coupon","code","staticRenderFns","data","isPaying","computed","$store","state","orderLoading","orderId","watch","getOrder","products","forEach","Math","round","percent","cartBlockShow","methods","dispatch","setTimeout","$","slideToggle","toggleClass","writeInLocalStorage","$http","post","url","created","window","addEventListener","component"],"mappings":"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","file":"js/chunk-23c921ae.ef3ac088.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container text-black\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-lg-10 offset-lg-1\"},[_c('div',{staticClass:\"row my-3\"},[_c('div',{staticClass:\"col-12 col-lg-10 offset-lg-1 d-flex justify-content-start\"},[_c('router-link',{staticClass:\"fontOrbitron fz_20 fz_md_30 text-black\\n            text-decoration-none\",attrs:{\"to\":\"/home\"}},[_vm._v(\"Hardware Store\")])],1)]),_c('div',{staticClass:\"row mb-2 mb-lg-5\"},[_c('div',{staticClass:\"col-12 col-lg-10 offset-lg-1 d-flex justify-content-start\"},[_c('a',{staticClass:\"text-black mr-2 text-decoration-none\",attrs:{\"to\":\"/home\"},on:{\"click\":function($event){return _vm.getCart('/home')}}},[_vm._v(\"Home\")]),_vm._v(\"> \"),_c('a',{staticClass:\"text-black mx-2 text-decoration-none\",attrs:{\"to\":\"/order\"},on:{\"click\":function($event){return _vm.getCart('/orderlist')}}},[_vm._v(\"Order\")]),_vm._v(\"> \"),_c('div',{staticClass:\"ml-2 text-black font-weight-bold\"},[_vm._v(\"Payment\")])])]),_c('div',{staticClass:\"row flex-column-reverse flex-lg-row\"},[_c('div',{staticClass:\"col-12 col-lg-6 offset-lg-1 mt-3 mt-lg-0\"},[_c('div',{staticClass:\"text-left fz_24 mb-2\"},[_vm._v(\"訂單資訊\")]),(_vm.orderLoading)?_c('div',{staticClass:\"border border-black mb-3 mb-lg-5\"},[_c('div',{staticClass:\"d-flex flex-column\"},[_c('div',{staticClass:\"d-flex justify-content-between\\n              align-items-center border-bottom border-black p-3\",on:{\"click\":_vm.showOrderInfo}},[_c('div',{staticClass:\"d-flex align-items-center\"},[_vm._v(\" 聯絡資訊\"),_c('span',{staticClass:\"ml-2 fz_14\\n                  text-secondary text-truncate w_max_150px w_max_lg_230px\"},[_vm._v(\" \"+_vm._s(_vm.order.user.name)+\" / \"+_vm._s(_vm.order.user.email)+\" / \"+_vm._s(_vm.order.user.tel))])]),_vm._m(0)]),_c('ul',{staticClass:\"text-left d_none\\n              listStyle_none m-0 p-3 border-bottom border-black\",attrs:{\"id\":\"orderInfo\"}},[_c('li',[_vm._v(\"姓名 ： \"+_vm._s(_vm.order.user.name))]),_c('li',[_vm._v(\"信箱 ： \"+_vm._s(_vm.order.user.email))]),_c('li',[_vm._v(\"電話 ： \"+_vm._s(_vm.order.user.tel))])])]),_c('div',{staticClass:\"d-flex justify-content-between align-items-center p-3\"},[_c('div',[_vm._v(\" 地址\"),_c('span',{staticClass:\"ml-2 fz_14 text-secondary\"},[_vm._v(\" \"+_vm._s(_vm.order.user.address))])]),_vm._m(1)])]):_vm._e(),_c('div',{staticClass:\"text-left fz_24 mb-2\"},[_vm._v(\"付款資訊\")]),_c('div',{staticClass:\"border border-black mb-3 fz_20 flex-column\\n          d-flex\"},[_c('div',{staticClass:\"d-flex justify-content-between p-3\"},[_vm._v(\" 付款方式\"),_c('div',[_vm._v(_vm._s(_vm.order.payment))])]),(_vm.order.payment === 'WebATM' || _vm.order.payment === 'ATM')?_c('div',{staticClass:\"p-3 border-top border-black\"},[_c('div',[_vm._v(\"請使用轉帳至下列號碼\")]),_c('div',{staticClass:\"d-flex flex-column flex-lg-row\\n              align-items-center justify-content-center\\n              mt-3 border border-black p-3\"},[_vm._v(\"00010061234567 \"),(!this.paid)?_c('router-link',{staticClass:\"btn\\n              btn-black rounded-0 ml-lg-5\",attrs:{\"to\":\"/paycheck\"}},[_vm._v(\"前往轉帳\")]):_c('div',{staticClass:\"text-success ml-lg-5\"},[_vm._v(\"轉帳成功！\")])],1)]):_c('div',{staticClass:\"p-3 border-top border-black\"},[_c('div',[_vm._v(\"請按按鈕進行繳費\")]),_c('div',{staticClass:\"d-flex flex-column align-items-center justify-content-center\"},[(!this.paid)?_c('router-link',{staticClass:\"btn\\n                btn-black rounded-0 mt-3\",attrs:{\"to\":\"/paycheck\"}},[_vm._v(\"前往繳費\")]):_c('div',{staticClass:\"text-success mt-3\"},[_vm._v(\"轉帳成功！\")])],1)])]),_c('div',{staticClass:\"d-flex justify-content-center justify-content-lg-end\"},[_c('button',{staticClass:\"btn btn-black\\n            p-2 rounded-0 fz_24 px-6\",attrs:{\"type\":\"button\",\"disabled\":!this.paid},on:{\"click\":_vm.paidOrder}},[_vm._v(\"確認付款 \"),(_vm.isPaying)?_c('div',{staticClass:\"spinner-border text-light ml-2\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_vm._e()])])]),_c('div',{staticClass:\"col-12 col-lg-5 mt-3 mt-lg-1\"},[_c('div',{staticClass:\"bg-gray\"},[_c('div',{staticClass:\"p-2 p-lg-3 w-100 d_block d-lg-none\\n            font-weight-bold fz_20\"},[_c('div',{staticClass:\"p-2 w-100 d-flex justify-content-between align-items-center\",on:{\"click\":_vm.showOrderDetail}},[_vm._v(\" 總金額 \"),_c('div',{staticClass:\"d-flex align-items-center\"},[(_vm.orderTotal > 2000)?_c('div',{staticClass:\"orderDetail_total\"},[_vm._v(\" NT \"+_vm._s(_vm._f(\"DollarSign\")(_vm._f(\"toCurrency\")(_vm.orderTotal)))+\" \")]):_c('div',{staticClass:\"orderDetail_total\"},[_vm._v(\"NT \"+_vm._s(_vm._f(\"DollarSign\")(_vm._f(\"toCurrency\")(_vm.orderTotal + 60))))]),_vm._m(2)])])]),_c('hr',{staticClass:\"my-0 mx-3 d_none d-lg-none border-secondary orderDetail_line\"}),_c('ul',{staticClass:\"listStyle_none d_none d-lg-block p-3 m-0 text-left\",attrs:{\"id\":\"orderDetail\"}},[_vm._l((_vm.order.products),function(item){return _c('li',{key:item.id,staticClass:\"d-flex bg-gray mb-2\"},[_c('div',{staticClass:\"card-img-top rounded-0 orderImg_sm\",style:({ background: (\"url(\" + (item.product.imageUrl[0]) + \")\") })}),_c('div',{staticClass:\"w-100\"},[_c('div',{staticClass:\"p-2 h-100 w-100 d-flex align-items-center justify-content-between\"},[_c('div',{staticClass:\"font-weight-bold mb-1\\n                    d-flex align-items-end justify-content-between\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \"),_c('span',{staticClass:\"fz_14 ml-2 fontRoboto font-weight-normal\"},[_vm._v(\" x \"+_vm._s(item.quantity))])]),_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('div',{staticClass:\"text-right\"},[_vm._v(\" NT \"+_vm._s(_vm._f(\"DollarSign\")(_vm._f(\"toCurrency\")(item.quantity * item.product.price))))])])])])])}),_c('hr',{staticClass:\"my-4 border-secondary\"}),(_vm.order.coupon)?_c('li',{staticClass:\"p-2 fz_14 text-secondary d-flex justify-content-between\"},[_vm._v(\" 優惠卷\"),_c('span',[_vm._v(_vm._s(_vm.order.coupon.code))])]):_vm._e(),_c('li',{staticClass:\"p-2 d-flex justify-content-between\"},[_vm._v(\" 購物車金額\"),_c('span',[_vm._v(\"NT \"+_vm._s(_vm._f(\"DollarSign\")(_vm._f(\"toCurrency\")(_vm.orderTotal))))])]),_c('li',{staticClass:\"p-2 d-flex justify-content-between\"},[_vm._v(\" 運費 \"),(_vm.orderTotal > 2000)?_c('div',[_c('span',{staticClass:\"mr-2 text-danger font-weight-bold\"},[_vm._v(\"( 滿 2, 000 免運 )\")]),_vm._v(\"NT 0 \")]):_c('div',[_vm._v(\"NT \"+_vm._s(_vm._f(\"DollarSign\")(_vm._f(\"toCurrency\")(60))))])]),_c('li',{staticClass:\"p-2 d-flex justify-content-between font-weight-bold fz_20\"},[_vm._v(\" 總金額 \"),(_vm.orderTotal > 2000)?_c('div',[_vm._v(\"NT \"+_vm._s(_vm._f(\"DollarSign\")(_vm._f(\"toCurrency\")(_vm.orderTotal)))+\" \")]):_c('div',[_vm._v(\"NT \"+_vm._s(_vm._f(\"DollarSign\")(_vm._f(\"toCurrency\")(_vm.orderTotal + 60))))])])],2)])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-items-center\"},[_c('span',{staticClass:\"material-icons showOrderInfo_down\"},[_vm._v(\" keyboard_arrow_down \")]),_c('span',{staticClass:\"material-icons d_none showOrderInfo_up\"},[_vm._v(\" keyboard_arrow_up \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-items-center\"},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\" gps_fixed \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-items-center ml-2\"},[_c('span',{staticClass:\"material-icons showOrderDetail_down\"},[_vm._v(\" keyboard_arrow_down \")]),_c('span',{staticClass:\"material-icons d_none showOrderDetail_up\"},[_vm._v(\" keyboard_arrow_up \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container text-black\">\n    <div class=\"row\">\n      <div class=\"col-12 col-lg-10 offset-lg-1\">\n        <div class=\"row my-3\">\n          <div class=\"col-12 col-lg-10 offset-lg-1 d-flex justify-content-start\">\n            <router-link\n              class=\"fontOrbitron fz_20 fz_md_30 text-black\n              text-decoration-none\" to=\"/home\"\n            >Hardware Store</router-link>\n          </div>\n        </div>\n        <div class=\"row mb-2 mb-lg-5\">\n          <div class=\"col-12 col-lg-10 offset-lg-1 d-flex justify-content-start\">\n            <a class=\"text-black mr-2 text-decoration-none\"\n            to=\"/home\" @click=\"getCart('/home')\">Home</a>>\n            <a class=\"text-black mx-2 text-decoration-none\"\n            to=\"/order\" @click=\"getCart('/orderlist')\">Order</a>>\n            <div class=\"ml-2 text-black font-weight-bold\">Payment</div>\n          </div>\n        </div>\n        <div class=\"row flex-column-reverse flex-lg-row\">\n          <div class=\"col-12 col-lg-6 offset-lg-1 mt-3 mt-lg-0\">\n            <div class=\"text-left fz_24 mb-2\">訂單資訊</div>\n            <div v-if=\"orderLoading\" class=\"border border-black mb-3 mb-lg-5\">\n              <div class=\"d-flex flex-column\">\n                <div @click=\"showOrderInfo\" class=\"d-flex justify-content-between\n                align-items-center border-bottom border-black p-3\">\n                  <div class=\"d-flex align-items-center\">\n                    聯絡資訊<span class=\"ml-2 fz_14\n                    text-secondary text-truncate w_max_150px w_max_lg_230px\">\n                    {{ order.user.name }} / {{ order.user.email }} / {{ order.user.tel }}</span>\n                  </div>\n                  <div class=\"d-flex align-items-center\">\n                    <span class=\"material-icons showOrderInfo_down\">\n                    keyboard_arrow_down\n                    </span>\n                    <span class=\"material-icons d_none showOrderInfo_up\">\n                    keyboard_arrow_up\n                    </span>\n                  </div>\n                </div>\n                <ul id=\"orderInfo\" class=\"text-left d_none\n                listStyle_none m-0 p-3 border-bottom border-black\">\n                  <li>姓名 ： {{ order.user.name }}</li>\n                  <li>信箱 ： {{ order.user.email }}</li>\n                  <li>電話 ： {{ order.user.tel }}</li>\n                </ul>\n              </div>\n              <div class=\"d-flex justify-content-between align-items-center p-3\">\n                <div>\n                  地址<span class=\"ml-2 fz_14 text-secondary\">\n                  {{ order.user.address }}</span>\n                </div>\n                <div class=\"d-flex align-items-center\">\n                  <span class=\"material-icons\">\n                  gps_fixed\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div class=\"text-left fz_24 mb-2\">付款資訊</div>\n            <div class=\"border border-black mb-3 fz_20 flex-column\n            d-flex\">\n              <div class=\"d-flex justify-content-between p-3\">\n                付款方式<div>{{ order.payment }}</div></div>\n              <div v-if=\"order.payment === 'WebATM' || order.payment === 'ATM'\"\n              class=\"p-3 border-top border-black\">\n                <div>請使用轉帳至下列號碼</div>\n                <div class=\"d-flex flex-column flex-lg-row\n                align-items-center justify-content-center\n                mt-3 border border-black p-3\">00010061234567\n                <router-link to=\"/paycheck\" class=\"btn\n                btn-black rounded-0 ml-lg-5\" v-if=\"!this.paid\">前往轉帳</router-link>\n                <div v-else class=\"text-success ml-lg-5\">轉帳成功！</div>\n                </div>\n              </div>\n              <div v-else class=\"p-3 border-top border-black\">\n                <div>請按按鈕進行繳費</div>\n                <div class=\"d-flex flex-column align-items-center justify-content-center\">\n                  <router-link to=\"/paycheck\" class=\"btn\n                  btn-black rounded-0 mt-3\" v-if=\"!this.paid\">前往繳費</router-link>\n                  <div v-else class=\"text-success mt-3\">轉帳成功！</div>\n                </div>\n              </div>\n            </div>\n            <div class=\"d-flex justify-content-center justify-content-lg-end\">\n              <button @click=\"paidOrder\" class=\"btn btn-black\n              p-2 rounded-0 fz_24 px-6\"\n              type=\"button\" :disabled=\"!this.paid\">確認付款\n                <div class=\"spinner-border text-light ml-2\" v-if=\"isPaying\" role=\"status\">\n                  <span class=\"sr-only\">Loading...</span>\n                </div>\n              </button>\n            </div>\n          </div>\n          <div class=\"col-12 col-lg-5 mt-3 mt-lg-1\">\n            <div class=\"bg-gray\">\n              <div class=\"p-2 p-lg-3 w-100 d_block d-lg-none\n              font-weight-bold fz_20\">\n                <div @click=\"showOrderDetail\"\n                class=\"p-2 w-100 d-flex justify-content-between align-items-center\">\n                  總金額\n                  <div class=\"d-flex align-items-center\">\n                    <div class=\"orderDetail_total\" v-if=\"orderTotal > 2000\">\n                      NT {{ orderTotal | toCurrency | DollarSign }}\n                    </div>\n                    <div class=\"orderDetail_total\"\n                    v-else>NT {{ orderTotal + 60 | toCurrency | DollarSign }}</div>\n                    <div class=\"d-flex align-items-center ml-2\">\n                      <span class=\"material-icons showOrderDetail_down\">\n                      keyboard_arrow_down\n                      </span>\n                      <span class=\"material-icons d_none showOrderDetail_up\">\n                      keyboard_arrow_up\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <hr class=\"my-0 mx-3 d_none d-lg-none border-secondary orderDetail_line\">\n              <ul id=\"orderDetail\" class=\"listStyle_none d_none d-lg-block p-3 m-0 text-left\">\n                <li class=\"d-flex bg-gray mb-2\"\n                v-for=\"item in order.products\" :key=\"item.id\">\n                  <div class=\"card-img-top rounded-0 orderImg_sm\"\n                  :style=\"{ background: `url(${item.product.imageUrl[0]})` }\">\n                  </div>\n                  <div class=\"w-100\">\n                    <div class=\"p-2 h-100 w-100 d-flex align-items-center justify-content-between\">\n                      <div class=\"font-weight-bold mb-1\n                      d-flex align-items-end justify-content-between\">\n                        {{ item.product.title }}\n                        <span class=\"fz_14 ml-2 fontRoboto font-weight-normal\">\n                        x {{ item.quantity }}</span>\n                      </div>\n                      <div class=\"d-flex justify-content-between align-items-center\">\n                        <div class=\"text-right\">\n                        NT {{ item.quantity * item.product.price | toCurrency | DollarSign }}</div>\n                      </div>\n                    </div>\n                  </div>\n                </li><hr class=\"my-4 border-secondary\">\n                <li v-if=\"order.coupon\"\n                class=\"p-2 fz_14 text-secondary d-flex justify-content-between\">\n                優惠卷<span>{{ order.coupon.code }}</span></li>\n                <li class=\"p-2 d-flex justify-content-between\">\n                購物車金額<span>NT {{ orderTotal | toCurrency | DollarSign }}</span></li>\n                <li class=\"p-2 d-flex justify-content-between\">\n                運費\n                <div v-if=\"orderTotal > 2000\">\n                <span class=\"mr-2 text-danger font-weight-bold\">( 滿 2, 000 免運 )</span>NT 0\n                </div>\n                <div v-else>NT {{ 60 | toCurrency | DollarSign }}</div>\n                </li>\n                <li class=\"p-2 d-flex justify-content-between font-weight-bold fz_20\">\n                總金額\n                <div v-if=\"orderTotal > 2000\">NT {{ orderTotal | toCurrency | DollarSign }}\n                </div>\n                <div v-else>NT {{ orderTotal + 60 | toCurrency | DollarSign }}</div>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* global $ */\n\nexport default {\n  data() {\n    return {\n      orderTotal: 0,\n      isPaying: false,\n    };\n  },\n  computed: {\n    order() {\n      return this.$store.state.order;\n    },\n    orderLoading() {\n      return this.$store.state.orderLoading;\n    },\n    orderId() {\n      return this.$store.state.orderId;\n    },\n    paid() {\n      return this.$store.state.paid;\n    },\n  },\n  watch: {\n    orderId() {\n      this.getOrder(this.orderId);\n    },\n    order() {\n      this.orderTotal = 0;\n      if (this.orderLoading) {\n        // this.writeInLocalStorage();\n        this.order.products.forEach((item) => {\n          this.orderTotal += (item.quantity * item.product.price);\n        });\n      }\n      if (this.order.coupon) {\n        this.orderTotal = Math.round(this.orderTotal * (this.order.coupon.percent / 100));\n      }\n      return this.orderTotal;\n    },\n    paid() {\n      return this.paid;\n    },\n    cartBlockShow() {\n      return this.$store.state.cartBlockShow;\n    },\n  },\n  methods: {\n    getOrder(id) {\n      this.$store.dispatch('getOrder', id);\n      // if (!this.order) {\n      //   this.$store.replaceState({ ...this.$store.state,\n      // ...JSON.parse(localStorage.getItem('store')) });\n      // }\n    },\n    getCart(address) {\n      this.$store.dispatch('getCart');\n      setTimeout(() => {\n        this.$router.push(address);\n      }, 500);\n    },\n    showOrderInfo() {\n      $('#orderInfo').slideToggle(0);\n      $('.showOrderInfo_down').toggleClass('d-none');\n      $('.showOrderInfo_up').toggleClass('d-block');\n    },\n    showOrderDetail() {\n      $('#orderDetail').slideToggle(300);\n      $('.orderDetail_line').toggleClass('d-block');\n      $('.showOrderDetail_down').toggleClass('d-none');\n      $('.showOrderDetail_up').toggleClass('d-block');\n      $('.orderDetail_total').toggleClass('d-none');\n    },\n    writeInLocalStorage() {\n      this.$store.dispatch('messagePush', 'clear');\n    },\n    paidOrder() {\n      this.isPaying = true;\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/orders/${this.orderId}/paying`;\n      this.$http.post(url)\n        .then(() => {\n          this.isPaying = false;\n          this.$store.dispatch('messagePush',\n            {\n              message: '付款成功',\n              status: 'success',\n            });\n          this.$router.push('/paydone');\n        }).catch(() => {\n          this.$store.dispatch('messagePush',\n            {\n              message: '付款失敗，請再嘗試看看',\n              status: 'danger',\n            });\n        });\n    },\n  },\n  created() {\n    this.getOrder(this.orderId);\n    this.writeInLocalStorage();\n    this.$store.dispatch('cartBlockisShow', false);\n    window.addEventListener('storage', (event) => {\n      this.isPaying = true;\n      // this.$store.replaceState({ ...this.$store.state,\n      // ...JSON.parse(localStorage.getItem('store')) });\n      setTimeout(() => {\n        this.isPaying = false;\n      }, 1000);\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.orderImg{\n  height: 120px;\n  width: 120px;\n  background-position: center !important;\n  background-size: cover !important;\n  &_sm {\n    height: 60px;\n    width: 60px;\n    background-position: center !important;\n    background-size: cover !important;\n  }\n}\n.fz_24{\n  font-size: 24px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Payment.vue?vue&type=template&id=d746da92&\"\nimport script from \"./Payment.vue?vue&type=script&lang=js&\"\nexport * from \"./Payment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Payment.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}