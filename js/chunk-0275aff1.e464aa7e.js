(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0275aff1"],{"0fd0":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"container text-black"},[i("div",{staticClass:"d-flex justify-content-start mb-4 position-relative"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-lg-9"},[i("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl[0],alt:""}}),t.product.price&&t.product.price==t.product.origin_price?t._e():i("div",{staticClass:"card-img-overlay d-flex\n          align-items-start justify-content-start p-3 mx-3"},[i("div",{staticClass:"text-dark font-weight-bold\n          fz_14 bg-yellow p-1 rounded"},[t._v("On Sale")])])]),i("div",{staticClass:"col-12 col-lg-5 h_lg_100 d-flex align-items-center\n        position-relative position_lg_absolute productInfo"},[i("div",{staticClass:"bg-white w-100 p-4 shadow"},[i("div",{staticClass:"d-flex mb-1"},[i("router-link",{staticClass:"mr-2 text-black",attrs:{to:"/home"}},[t._v("首頁")]),t._v("> "),i("a",{staticClass:"mx-2 text-black",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.backToProducts.apply(null,arguments)}}},[t._v("商品")]),t._v("> "),i("a",{staticClass:"ml-2 text-secondary",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.backToProductCategory(t.product.category)}}},[t._v(" "+t._s(t.product.category))])],1),i("div",{staticClass:"text-left mb-2 fz_36 font-weight-bold"},[t._v(t._s(t.product.title))]),i("div",{staticClass:"text-right mb-3 fontRoboto fz_24 font-weight-bold"},[t.product.price&&t.product.price!==t.product.origin_price?i("div",{staticClass:"d-flex align-items-end flex-column"},[i("del",{staticClass:"text-secondary fz_16 font-weight-normal"},[t._v(" NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(t.product.origin_price)))+" ")]),i("div",{},[t._v("NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(t.product.price))))])]):i("div",[t._v(" NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(t.product.origin_price)))+" ")])]),i("div",{staticClass:"w-100 d-flex align-items-center"},[i("div",{staticClass:"d-flex align-items-center justify-content-between bg-gray w-50 mr-4"},[i("button",{staticClass:"btn d-flex p-2",attrs:{type:"button",disabled:1===t.num},on:{click:function(e){t.num--}}},[i("span",{staticClass:"material-icons"},[t._v(" remove ")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],staticClass:"border-0 text-center w-50 bg-transparent pl-2",attrs:{type:"number",min:"1"},domProps:{value:t.num},on:{input:function(e){e.target.composing||(t.num=e.target.value)}}}),i("button",{staticClass:"btn d-flex p-2",attrs:{type:"button"},on:{click:function(e){t.num++}}},[i("span",{staticClass:"material-icons"},[t._v(" add ")])])]),i("button",{staticClass:"btn\n              p-2 w-50 text-white bg-black rounded-0\n              d-flex align-items-center justify-content-center",attrs:{type:"button",disabled:t.addToCartLoading},on:{click:t.addToCart}},[t._v(" 加入購物車 "),t.addToCartLoading?i("div",{staticClass:"spinner-border spinner-border_sm ml-2",attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[t._v("Loading...")])]):t._e()])])])])])]),i("div",{staticClass:"row mb-5"},[i("div",{staticClass:"col-12 col-md-6 mb-3 mb-lg-0 col-lg-4 text-left"},[i("div",{staticClass:"fz_24 mb-2"},[t._v("產品特色")]),i("div",{domProps:{innerHTML:t._s(t.product.content)}})]),i("div",{staticClass:"col-12 col-md-6 col-lg-4 text-left"},[i("div",{staticClass:"fz_24 mb-2"},[t._v("產品規格")]),i("div",{staticClass:"ml-4",domProps:{innerHTML:t._s(t.product.description)}})])])]),i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row mb-5"},[i("div",{staticClass:"col-12 text-left px-lg-7"},[t.recentlyViewedProducts&&t.recentlyViewedProducts.length>1?i("h3",{staticClass:"mb-5"},[t._v("你曾瀏覽過...")]):t._e(),i("Swiper",{attrs:{products:t.recentlyViewedProducts,id:t.product.id},on:{update:t.windowReload}})],1)])])])},n=[],r=(i("99af"),i("8419")),o={data:function(){return{product:{imageUrl:[]},num:1,category:"",recentlyViewedProducts:[],addToCartLoading:!1}},components:{Swiper:r["a"]},methods:{getProduct:function(){var t=this,e=this.$route.params.id,i="".concat("https://course-ec-api.hexschool.io/api/").concat("8a8058c0-58d2-485b-b7fc-3c9be181cca7","/ec/product/").concat(e);this.$http.get(i).then((function(e){t.$store.dispatch("loadingChange",!1),t.product=e.data.data,t.category=e.data.data.category})).catch((function(){t.$store.dispatch("loadingChange",!1)}))},addToCart:function(){var t=this;this.addToCartLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat("8a8058c0-58d2-485b-b7fc-3c9be181cca7","/ec/shopping"),i={product:this.product.id,quantity:this.num};this.$http.post(e,i).then((function(){t.addToCartLoading=!1,t.$store.dispatch("messagePush",{message:"商品已加入購物車",status:"success"}),t.$emit("updateCart")})).catch((function(){t.addToCartLoading=!1,t.$store.dispatch("messagePush",{message:"購物車裡已有該商品",status:"danger"})}))},backToProducts:function(){this.category="全部商品",this.$store.dispatch("categoryChange",this.category),this.$router.push("/products")},backToProductCategory:function(t){this.category=t,this.$store.dispatch("categoryChange",this.category),this.$router.push("/products")},windowReload:function(){setTimeout((function(){window.location.reload()}),0)}},created:function(){this.$store.dispatch("loadingChange",!0),this.getProduct(),this.recentlyViewedProducts=JSON.parse(sessionStorage.getItem("recentlyViewed"))}},a=o,c=(i("5a74"),i("2877")),d=Object(c["a"])(a,s,n,!1,null,null,null);e["default"]=d.exports},5200:function(t,e,i){"use strict";i("862c")},"5a74":function(t,e,i){"use strict";i("7f16")},6062:function(t,e,i){"use strict";var s=i("6d61"),n=i("6566");t.exports=s("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n)},6566:function(t,e,i){"use strict";var s=i("9bf2").f,n=i("7c73"),r=i("e2cc"),o=i("0366"),a=i("19aa"),c=i("2266"),d=i("7dd0"),l=i("2626"),u=i("83ab"),f=i("f183").fastKey,p=i("69f3"),v=p.set,g=p.getterFor;t.exports={getConstructor:function(t,e,i,d){var l=t((function(t,s){a(t,l,e),v(t,{type:e,index:n(null),first:void 0,last:void 0,size:0}),u||(t.size=0),void 0!=s&&c(s,t[d],{that:t,AS_ENTRIES:i})})),p=g(e),h=function(t,e,i){var s,n,r=p(t),o=m(t,e);return o?o.value=i:(r.last=o={index:n=f(e,!0),key:e,value:i,previous:s=r.last,next:void 0,removed:!1},r.first||(r.first=o),s&&(s.next=o),u?r.size++:t.size++,"F"!==n&&(r.index[n]=o)),t},m=function(t,e){var i,s=p(t),n=f(e);if("F"!==n)return s.index[n];for(i=s.first;i;i=i.next)if(i.key==e)return i};return r(l.prototype,{clear:function(){var t=this,e=p(t),i=e.index,s=e.first;while(s)s.removed=!0,s.previous&&(s.previous=s.previous.next=void 0),delete i[s.index],s=s.next;e.first=e.last=void 0,u?e.size=0:t.size=0},delete:function(t){var e=this,i=p(e),s=m(e,t);if(s){var n=s.next,r=s.previous;delete i.index[s.index],s.removed=!0,r&&(r.next=n),n&&(n.previous=r),i.first==s&&(i.first=n),i.last==s&&(i.last=r),u?i.size--:e.size--}return!!s},forEach:function(t){var e,i=p(this),s=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:i.first){s(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),r(l.prototype,i?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return h(this,0===t?0:t,e)}}:{add:function(t){return h(this,t=0===t?0:t,t)}}),u&&s(l.prototype,"size",{get:function(){return p(this).size}}),l},setStrong:function(t,e,i){var s=e+" Iterator",n=g(e),r=g(s);d(t,e,(function(t,e){v(this,{type:s,target:t,state:n(t),kind:e,last:void 0})}),(function(){var t=r(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),l(e)}}},"6d61":function(t,e,i){"use strict";var s=i("23e7"),n=i("da84"),r=i("94ca"),o=i("6eeb"),a=i("f183"),c=i("2266"),d=i("19aa"),l=i("861d"),u=i("d039"),f=i("1c7e"),p=i("d44e"),v=i("7156");t.exports=function(t,e,i){var g=-1!==t.indexOf("Map"),h=-1!==t.indexOf("Weak"),m=g?"set":"add",_=n[t],b=_&&_.prototype,y=_,x={},w=function(t){var e=b[t];o(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(h&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return h&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(h&&!l(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})},C=r(t,"function"!=typeof _||!(h||b.forEach&&!u((function(){(new _).entries().next()}))));if(C)y=i.getConstructor(e,t,g,m),a.REQUIRED=!0;else if(r(t,!0)){var S=new y,k=S[m](h?{}:-0,1)!=S,z=u((function(){S.has(1)})),P=f((function(t){new _(t)})),T=!h&&u((function(){var t=new _,e=5;while(e--)t[m](e,e);return!t.has(-0)}));P||(y=e((function(e,i){d(e,y,t);var s=v(new _,e,y);return void 0!=i&&c(i,s[m],{that:s,AS_ENTRIES:g}),s})),y.prototype=b,b.constructor=y),(z||T)&&(w("delete"),w("has"),g&&w("get")),(T||k)&&w(m),h&&b.clear&&delete b.clear}return x[t]=y,s({global:!0,forced:y!=_},x),p(y,t),h||i.setStrong(y,t,g),y}},7156:function(t,e,i){var s=i("861d"),n=i("d2bb");t.exports=function(t,e,i){var r,o;return n&&"function"==typeof(r=e.constructor)&&r!==i&&s(o=r.prototype)&&o!==i.prototype&&n(t,o),t}},"7f16":function(t,e,i){},8419:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},[t._l(t.products,(function(e,s){return[e.id!==t.id?i("swiper-slide",{key:s},[i("a",{staticClass:"text-decoration-none h-100 w-100 text-black",attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.addSessionStorage(e,e.id),t.goToProduct(e.id)}}},[i("div",{staticClass:"card cardSize border-0 m-0"},[i("div",{staticClass:"overflow-hidden",on:{click:t.update}},[e.imageUrl?i("div",{staticClass:"card-img-top rounded-0 swiperImg",style:{background:"url("+e.imageUrl[0]+")"}}):t._e()]),e.price&&e.price==e.origin_price?t._e():i("div",{staticClass:"position-absolute salePosition p-2 p-xl-3"},[i("div",{staticClass:"text-dark font-weight-bold\n            fz_12 fz_lg_16 bg-yellow px-2 rounded-pill"},[t._v("On Sale")])]),i("div",{staticClass:"card-body mt-1 p-1 py-lg-3 px-lg-2\n          d-flex justify-content-between align-items-center"},[i("div",{staticClass:"w-100 d-flex justify-content-between align-items-center"},[i("div",{staticClass:"d-flex flex-column align-items-start"},[i("div",{staticClass:"text-left mb-1 fz_12 fz_lg_16 fz_xl_20"},[t._v(" "+t._s(e.title)+" ")]),i("div",{staticClass:"text-secondary fz_12 fz_lg_16"},[t._v(t._s(e.category))])]),i("div",{staticClass:"text-left fontRoboto fz_12 fz_lg_16"},[e.price&&e.price!==e.origin_price?i("div",{staticClass:"d-flex flex-column\n                align-items-end"},[i("del",{staticClass:"text-secondary"},[t._v(" NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(e.origin_price))))]),i("div",{staticClass:"ml-md-3 ml-lg-0"},[t._v(" NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(e.price))))])]):i("div",[t._v("NT "+t._s(t._f("DollarSign")(t._f("toCurrency")(e.origin_price))))])])])])])])]):t._e()]})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},n=[],r=(i("d3b7"),i("6062"),i("3ca3"),i("ddb0"),i("4de4"),i("7212")),o=(i("bbe3"),{name:"swiper-example-free-mode",title:"Free mode / No fixed positions",components:{Swiper:r["Swiper"],SwiperSlide:r["SwiperSlide"]},props:["products","id"],data:function(){return{swiperOption:{slidesPerView:"auto",freeMode:!0},recentlyViewedProducts:[]}},methods:{update:function(){this.$emit("update")},addSessionStorage:function(t,e){sessionStorage.getItem("recentlyViewed")&&(this.recentlyViewedProducts=JSON.parse(sessionStorage.getItem("recentlyViewed"))),this.recentlyViewedProducts.push(t);var i=new Set,s=this.recentlyViewedProducts.filter((function(t){return!i.has(t.id)&&i.add(t.id)}));sessionStorage.setItem("recentlyViewed",JSON.stringify(s))},goToProduct:function(t){this.$router.push("/product/".concat(t))}}}),a=o,c=(i("5200"),i("2877")),d=Object(c["a"])(a,s,n,!1,null,"5b4915c2",null);e["a"]=d.exports},"862c":function(t,e,i){},bb2f:function(t,e,i){var s=i("d039");t.exports=!s((function(){return Object.isExtensible(Object.preventExtensions({}))}))},f183:function(t,e,i){var s=i("d012"),n=i("861d"),r=i("5135"),o=i("9bf2").f,a=i("90e3"),c=i("bb2f"),d=a("meta"),l=0,u=Object.isExtensible||function(){return!0},f=function(t){o(t,d,{value:{objectID:"O"+ ++l,weakData:{}}})},p=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,d)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[d].objectID},v=function(t,e){if(!r(t,d)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[d].weakData},g=function(t){return c&&h.REQUIRED&&u(t)&&!r(t,d)&&f(t),t},h=t.exports={REQUIRED:!1,fastKey:p,getWeakData:v,onFreeze:g};s[d]=!0}}]);
//# sourceMappingURL=chunk-0275aff1.e464aa7e.js.map